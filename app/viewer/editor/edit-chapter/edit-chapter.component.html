<div [ngBusy]="busy">
    <input type="text" class="form-control title mb-2" [(ngModel)]="chapter.title" placeholder="Título">
    <ckeditor 
        [editor]="Editor" [(ngModel)]="chapter.description" 
        [config]="{ language: 'es', toolbar: [ 'heading', '|', 'bold', 'italic', 'link', '|', 'bulletedList', 'numberedList', 'blockQuote', '|', 'undo', 'redo' ],
            heading: {
                options: [
                    { model: 'paragraph', title: 'Párrafo', class: 'ck-heading_paragraph' },
                    { model: 'heading1', view: 'h2', title: 'Subtítulo', class: 'ck-heading_heading1' },
                    { model: 'heading2', view: 'h3', title: 'Cabezal', class: 'ck-heading_heading2' }
                ]
            }
        }"></ckeditor>
        <div class="d-flex align-items-center my-3">
            <app-icon class="mr-2" icon="lock-circle" *ngIf="!chapter.published"></app-icon>
            <app-icon class="mr-2" icon="done-circle" *ngIf="chapter.published"></app-icon>
            <strong class="mr-2">Capítulo publicado </strong>
            <ui-switch [(ngModel)]="chapter.published" size="small"></ui-switch>
        </div>
    <button class="btn btn-danger rounded-0 font-weight-bold" *ngIf="chapter.id" (click)="delete()">Eliminar este capítulo</button>
    
    <div class="mt-3">
        <button class="col-6 btn btn-danger font-weight-bold rounded-0" (click)="close(false)">Cancelar</button>
        <button class="col-6 btn btn-primary font-weight-bold rounded-0" (click)="save()">Guardar</button>
    </div>
</div>
